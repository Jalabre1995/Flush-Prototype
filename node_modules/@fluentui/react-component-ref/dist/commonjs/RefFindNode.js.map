{"version":3,"sources":["RefFindNode.tsx"],"names":["RefFindNode","prevNode","componentDidMount","ReactDOM","findDOMNode","props","innerRef","componentDidUpdate","prevProps","currentNode","componentWillUnmount","render","children","React","Component"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AAEA;;IAEaA,W;;;;;;;;;;;UACXC,Q,GAAwB,I;;;;;;SAExBC,iB,GAAA,6BAAoB;AAClB,SAAKD,QAAL,GAAgBE,QAAQ,CAACC,WAAT,CAAqB,IAArB,CAAhB;AAEA,0BAAU,KAAKC,KAAL,CAAWC,QAArB,EAA+B,KAAKL,QAApC;AACD,G;;SAEDM,kB,GAAA,4BAAmBC,SAAnB,EAAwC;AACtC,QAAMC,WAAW,GAAGN,QAAQ,CAACC,WAAT,CAAqB,IAArB,CAApB;;AAEA,QAAI,KAAKH,QAAL,KAAkBQ,WAAtB,EAAmC;AACjC,WAAKR,QAAL,GAAgBQ,WAAhB;AACA,4BAAU,KAAKJ,KAAL,CAAWC,QAArB,EAA+BG,WAA/B;AACD;;AAED,QAAID,SAAS,CAACF,QAAV,KAAuB,KAAKD,KAAL,CAAWC,QAAtC,EAAgD;AAC9C,4BAAU,KAAKD,KAAL,CAAWC,QAArB,EAA+BG,WAA/B;AACD;AACF,G;;SAEDC,oB,GAAA,gCAAuB;AACrB,0BAAU,KAAKL,KAAL,CAAWC,QAArB,EAA+B,IAA/B;AAEA,WAAO,KAAKL,QAAZ;AACD,G;;SAEDU,M,GAAA,kBAAS;AAAA,QACCC,QADD,GACc,KAAKP,KADnB,CACCO,QADD;AAGP,WAAOA,QAAP;AACD,G;;;EAhC8BC,KAAK,CAACC,S","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport { handleRef, RefProps } from './utils';\n\nexport class RefFindNode extends React.Component<RefProps> {\n  prevNode: Node | null = null;\n\n  componentDidMount() {\n    this.prevNode = ReactDOM.findDOMNode(this);\n\n    handleRef(this.props.innerRef, this.prevNode);\n  }\n\n  componentDidUpdate(prevProps: RefProps) {\n    const currentNode = ReactDOM.findDOMNode(this);\n\n    if (this.prevNode !== currentNode) {\n      this.prevNode = currentNode;\n      handleRef(this.props.innerRef, currentNode);\n    }\n\n    if (prevProps.innerRef !== this.props.innerRef) {\n      handleRef(this.props.innerRef, currentNode);\n    }\n  }\n\n  componentWillUnmount() {\n    handleRef(this.props.innerRef, null);\n\n    delete this.prevNode;\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return children;\n  }\n}\n"],"file":"RefFindNode.js"}